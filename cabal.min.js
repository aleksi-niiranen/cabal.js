!function(e){var t=function(e,t){var n=e,a=t;return function(e,t){var o=r(n.properties,e);React.renderComponent(a({headers:n.headers,data:o}),t)}},r=function(e,t){var r=[],n={rendered:[],all:{}};return t.forEach(function(t){return 0===e.propertiesToRender.length?void r.push(o(n,t.Cells.results,e)):(t.Cells.results.forEach(function(t,r){var a=e.propertiesToRender.indexOf(t.Key);a>-1&&(n.rendered.push({ri:a,pi:r}),e.propertiesToRender.splice(a,1,null)),n.all[t.Key]=r}),e.propertiesToRender.forEach(function(e,t){null!==e&&n.rendered.push({ri:t})}),r.push(o(n,t.Cells.results,e)),void(e.propertiesToRender=[]))}),r},n=function(e){return function(t,r,n){var o=void 0===e.children?t[r.pi].Value:e.children,i=a(e.attr,t,n);return i.children=o,{type:e.componentType,element:e.element,inputs:i}}},a=function(e,t,r){var n=i.mapper.property().constructor,a={};for(var o in e){var s=e[o];a[o]=s instanceof n?t[r[s.name]].Value:s}return a},o=function(e,t,r){var n=e.rendered.sort(function(e,t){return e.ri-t.ri}),a=n.map(function(n){return r.rowTemplate[n.ri](t,n,e.all)});return a},i=function(e,r){return t(e,r)};i.VERSION="0.2.0",i.Headers=function(e,t){var r=e.map(function(e){return{type:t,inputs:{children:e}}});return r},i.Properties=function(e){var t={};return t.propertiesToRender=e.map(function(e){return e.name}),t.rowTemplate=e.map(n),t},"undefined"==typeof e.cabal&&(e.cabal=i)}(this),function(e){var t={},r={};r.mapToRow=function(e){if(!e)return[];var r=e.map(function(e){return React.DOM.td({},t[e.type]({element:e.element,inputs:e.inputs}))});return r},r.mapToRows=function(e){if(!e)return[];var r=e.map(function(e){return t.TableRow({rowData:e})});return r},r.mapToListItems=function(e){if(!e.data)return[];var t=e.data.map(function(t){return React.DOM.li({},r.mapToListItem(t,e.headers))});return t},r.mapToListItem=function(e,r){if(!e)return[];var n=e.length-1,a=e.map(function(e,a){var o=n===a;return React.DOM.span({},[r?t[r[a].type]({inputs:r[a].inputs}):void 0,t[e.type]({element:e.element,inputs:e.inputs}),o?void 0:React.DOM.br({})])});return a},t.Link=React.createClass({render:function(){return React.DOM.a(this.props.inputs)}}),t.Image=React.createClass({render:function(){return this.props.inputs.src||(this.props.inputs.src=this.props.inputs.children),delete this.props.inputs.children,React.DOM.img(this.props.inputs)}}),t.HeaderColumn=React.createClass({render:function(){return React.DOM.th(this.props.inputs)}}),t.ItemLabel=React.createClass({render:function(){return React.DOM.b(this.props.inputs)}}),t.Text=React.createClass({render:function(){return React.DOM.span(this.props.inputs)}}),t.DateTime=React.createClass({render:function(){var e=new Date(this.props.inputs.children);return this.props.inputs.children=e.toLocaleString(),React.DOM.span(this.props.inputs)}}),t.react=React.createClass({render:function(){var e=this.props.element;return React.DOM[e](this.props.inputs)}}),t.TableRow=React.createClass({render:function(){return React.DOM.tr({},r.mapToRow(this.props.rowData))}}),t.TableHead=React.createClass({render:function(){return React.DOM.thead({},React.DOM.tr({},this.props.headers.map(function(e){return t[e.type]({inputs:e.inputs})})))}}),t.TableBody=React.createClass({render:function(){return React.DOM.tbody({},r.mapToRows(this.props.data))}}),t.Table=React.createClass({render:function(){return React.DOM.table({className:"cabal-table"},[t.TableHead({headers:this.props.headers}),t.TableBody({data:this.props.data})])}}),t.List=React.createClass({render:function(){return React.DOM.ul({className:"cabal-list"},[r.mapToListItems({headers:this.props.headers,data:this.props.data})])}}),t.extend=function(e,r){if("function"!=typeof r)throw new Error("Extensions must be functions.");if(void 0!==t[e])throw new Error("Overriding components is not allowed.");t[e]=React.createClass({render:r})},e.components=t}(cabal),function(e){var t={},r=function(e){this.name=e,this.componentType="Text"};r.prototype.attributes=function(e){return this.attr=e,this},r.prototype.as=function(e){if(void 0===e||null===e)throw new Error("PropertyMapping's componentType can't be undefined or null");return this.componentType=e,this},r.prototype.react=function(e){return this.componentType="react",this.element=e,this},t.property=function(e){var t=new r(e);return t},t.extend=function(e,t){if("function"!=typeof t)throw new Error("Extensions must be functions.");if(void 0!==r.prototype[e])throw new Error("Overriding properties or methods is not allowed.");return r.prototype[e]=t,t},e.mapper=t}(cabal);